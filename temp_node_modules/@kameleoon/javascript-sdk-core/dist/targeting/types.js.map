{"version":3,"file":"types.js","names":["Operator","exports","MatchTypeCustomData","MatchTypeVariation","MatchTypeTest","TargetingType"],"sources":["../../src/targeting/types.ts"],"sourcesContent":["import { KameleoonDataItemType } from '../kameleoonData';\nimport { ExperimentVariationsType } from '../storage';\nimport { ConditionDataType, ConditionType } from './conditions';\nimport { TargetingNode } from './targetingNode';\n\nexport enum Operator {\n  And = 'AND',\n  Or = 'OR',\n}\n\nexport type NonLeafNodeType = {\n  left: TargetingNode;\n  right: TargetingNode;\n  value: Operator;\n};\n\nexport type LeafNodeType = {\n  left: undefined;\n  right: undefined;\n  value: ConditionType;\n};\n\nexport type NodeValueType = ConditionType | Operator;\n\nexport type ConditionLevelType = {\n  orOperators: boolean[];\n  conditions: ConditionDataType[];\n};\n\nexport type SegmentType = {\n  id: string;\n  name: string;\n  conditionsData: {\n    firstLevelOrOperators: boolean[];\n    firstLevel: ConditionLevelType[];\n  };\n};\n\nexport type FlatSegmentType = {\n  conditions: ConditionDataType[];\n  operators: Operator[];\n};\n\nexport type TargetingDataItemType = {\n  lastActivityTime: number;\n  data: KameleoonDataItemType;\n};\n\nexport type TargetingDataType = {\n  // --- Note ---\n  // `undefined` is used to indicate possible data absence for certain\n  // visitorCode\n  [visitorCode: string]: TargetingDataItemType[] | undefined;\n};\n\nexport type EvaluationDataType = {\n  targetingData: TargetingDataItemType[];\n  variationData: ExperimentVariationsType;\n  experimentId: number | null;\n};\n\nexport enum MatchTypeCustomData {\n  TRUE = 'TRUE',\n  FALSE = 'FALSE',\n  EXACT = 'EXACT',\n  CONTAINS = 'CONTAINS',\n  REGULAR_EXPRESSION = 'REGULAR_EXPRESSION',\n  EQUAL = 'EQUAL',\n  LOWER = 'LOWER',\n  GREATER = 'GREATER',\n  UNDEFINED = 'UNDEFINED',\n  AMONG_VALUES = 'AMONG_VALUES',\n}\n\nexport enum MatchTypeVariation {\n  ANY = 'ANY',\n  EXACT = 'EXACT',\n}\n\nexport enum MatchTypeTest {\n  ALL = 'ALL',\n  TEST = 'TEST',\n  PERSO = 'PERSO',\n}\n\nexport enum TargetingType {\n  PAGE_URL = 'PAGE_URL',\n  PAGE_TITLE = 'PAGE_TITLE',\n  LANDING_PAGE = 'LANDING_PAGE',\n  ORIGIN = 'ORIGIN',\n  ORIGIN_TYPE = 'ORIGIN_TYPE',\n  REFERRERS = 'REFERRERS',\n  NEW_VISITORS = 'NEW_VISITORS',\n  INTERESTS = 'INTERESTS',\n  BROWSER_LANGUAGE = 'BROWSER_LANGUAGE',\n  GEOLOCATION = 'GEOLOCATION',\n  DEVICE_TYPE = 'DEVICE_TYPE',\n  SCREEN_DIMENSION = 'SCREEN_DIMENSION',\n  VISITOR_IP = 'VISITOR_IP',\n  AD_BLOCKER = 'AD_BLOCKER',\n  PREVIOUS_PAGE = 'PREVIOUS_PAGE',\n  KEY_PAGES = 'KEY_PAGES',\n  PAGE_VIEWS = 'PAGE_VIEWS',\n  FIRST_VISIT = 'FIRST_VISIT',\n  LAST_VISIT = 'LAST_VISIT',\n  ACTIVE_SESSION = 'ACTIVE_SESSION',\n  TIME_SINCE_PAGE_LOAD = 'TIME_SINCE_PAGE_LOAD',\n  SAME_DAY_VISITS = 'SAME_DAY_VISITS',\n  VISITS = 'VISITS',\n  VISITS_BY_PAGE = 'VISITS_BY_PAGE',\n  INTERNAL_SEARCH_KEYWORDS = 'INTERNAL_SEARCH_KEYWORDS',\n  TABS_ON_SITE = 'TABS_ON_SITE',\n  CONVERSION_PROBABILITY = 'CONVERSION_PROBABILITY',\n  HEAT_SLICE = 'HEAT_SLICE',\n  SKY_STATUS = 'SKY_STATUS',\n  TEMPERATURE = 'TEMPERATURE',\n  DAY_NIGHT = 'DAY_NIGHT',\n  FORECAST_SKY_STATUS = 'FORECAST_SKY_STATUS',\n  FORECAST_TEMPERATURE = 'FORECAST_TEMPERATURE',\n  DAY_OF_WEEK = 'DAY_OF_WEEK',\n  TIME_RANGE = 'TIME_RANGE',\n  HOUR_MINUTE_RANGE = 'HOUR_MINUTE_RANGE',\n  JS_CODE = 'JS_CODE',\n  COOKIE = 'COOKIE',\n  EVENT = 'EVENT',\n  BROWSER = 'BROWSER',\n  OPERATING_SYSTEM = 'OPERATING_SYSTEM',\n  DOM_ELEMENT = 'DOM_ELEMENT',\n  MOUSE_OUT = 'MOUSE_OUT',\n  TARGET_EXPERIMENT = 'TARGET_EXPERIMENT',\n  TARGET_PERSONALIZATION = 'TARGET_PERSONALIZATION',\n  EXCLUSIVE_EXPERIMENT = 'EXCLUSIVE_EXPERIMENT',\n  CONVERSIONS = 'CONVERSIONS',\n  CUSTOM_DATUM = 'CUSTOM_DATUM',\n  YSANCE_SEGMENT = 'YSANCE_SEGMENT',\n  YSANCE_ATTRIBUT = 'YSANCE_ATTRIBUT',\n  TEALIUM_BADGE = 'TEALIUM_BADGE',\n  TEALIUM_AUDIENCE = 'TEALIUM_AUDIENCE',\n  PRICE_OF_DISPLAYED_PAGE = 'PRICE_OF_DISPLAYED_PAGE',\n  NUMBER_OF_VISITED_PAGES = 'NUMBER_OF_VISITED_PAGES',\n  VISITED_PAGES = 'VISITED_PAGES',\n  CUSTOM = 'CUSTOM',\n  EXPLICIT_TRIGGER = 'EXPLICIT_TRIGGER',\n}\n"],"mappings":";;;;;;IAKYA,QAAQ,0BAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAAA,OAARA,QAAQ;AAAA;AAAAC,OAAA,CAAAD,QAAA,GAAAA,QAAA;AAAA,IAwDRE,mBAAmB,0BAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAnBA,mBAAmB;EAAA,OAAnBA,mBAAmB;AAAA;AAAAD,OAAA,CAAAC,mBAAA,GAAAA,mBAAA;AAAA,IAanBC,kBAAkB,0BAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAA,OAAlBA,kBAAkB;AAAA;AAAAF,OAAA,CAAAE,kBAAA,GAAAA,kBAAA;AAAA,IAKlBC,aAAa,0BAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAA,OAAbA,aAAa;AAAA;AAAAH,OAAA,CAAAG,aAAA,GAAAA,aAAA;AAAA,IAMbC,aAAa,0BAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAbA,aAAa;EAAA,OAAbA,aAAa;AAAA;AAAAJ,OAAA,CAAAI,aAAA,GAAAA,aAAA"}